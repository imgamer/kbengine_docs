<html>
<head>
<meta charset="UTF-8">
<title>Entity - KBEngine client 文档</title>
<link href="../../style.css" rel="stylesheet" type="text/css">
</head>
<body>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td align=left style="background:#708090"> <font size=15 color=#ffffff> KBEngine </font></td></tr>
</table> <hr>
<h1>Entity类</h1>

<p style="text-align: center;"><span class="module_h1">[<a href="../Modules/KBEngine.html" class="module_h1">KBEngine模块</a>]</span></p><p>Entity是<a href="../Modules/KBEngine.html">KBEngine</a>模块的一部分。 <a href="#detailed_description">更多...</a></p><p></p><pre>import KBEngine</pre>

<h2><a href="#" onClick="obj=document.getElementById( 'functions' );vis = (obj.style.display == 'none') ? 'block' : 'none'; obj.style.display = vis; return false;" class="h2">成员函数</a></h2>
<table id="functions" cellpadding=0 cellspacing=3 style="margin-left: 20px;">

<tr><td>
<span class="function_list">def <a href="#baseCall" class="function_list" >baseCall</a>( self, methodName, methodArgs ):</span>
</td></tr>

<tr><td>
<span class="function_list">def <a href="#cellCall" class="function_list" >cellCall</a>( self, methodName, methodArgs ):</span>
</td></tr>

<tr><td>
<span class="function_list">def <a href="#isPlayer" class="function_list" >isPlayer</a>( self ):</span>
</td></tr>

</table>

<h2><a href="#" onClick="obj=document.getElementById( 'callbacks' );vis = (obj.style.display == 'none') ? 'block' : 'none'; obj.style.display = vis; return false;" class="h2">回调函数</a></h2>
<table id="callbacks" cellpadding=0 cellspacing=3 style="margin-left: 20px;">

<tr><td>
<span class="function_list">def <a href="#onDestroy" class="function_list" >onDestroy</a>( self ):</span>
</td></tr>

<tr><td>
<span class="function_list">def <a href="#onEnterWorld" class="function_list" >onEnterWorld</a>( self ):</span>
</td></tr>

<tr><td>
<span class="function_list">def <a href="#onLeaveWorld" class="function_list" >onLeaveWorld</a>( self ):</span>
</td></tr>

<tr><td>
<span class="function_list">def <a href="#onEnterSpace" class="function_list" >onEnterSpace</a>( self ):</span>
</td></tr>

<tr><td>
<span class="function_list">def <a href="#onLeaveSpace" class="function_list" >onLeaveSpace</a>( self ):</span>
</td></tr>
</table>

<h2><a href="#" onClick="obj=document.getElementById( 'attributes' );vis = (obj.style.display == 'none') ? 'block' : 'none'; obj.style.display = vis; return false;" class="h2">属性</a></h2>
<table id="attributes" cellpadding=0 cellspacing=3 style="margin-left: 20px;">

<tr valign=top><td><a href="#direction" class="attribute_list" >direction</a></td><td>&nbsp; Tuple of 3 floats as (roll, pitch, yaw)
</td></tr>

<tr valign=top><td><a href="#id" class="attribute_list" >id</a></td><td>&nbsp; 只读 Integer
</td></tr>

<tr valign=top><td><a href="#position" class="attribute_list" >position</a></td><td>&nbsp; <a href=../../keywords.html#vector3>Vector3</a>
</td></tr>

<tr valign=top><td><a href="#spaceID" class="attribute_list" >spaceID</a></td><td>&nbsp; 只读 uint32
</td></tr>

<tr valign=top><td><a href="#isOnGround" class="attribute_list" >isOnGround</a></td><td>&nbsp; 只读 bool
</td></tr>

<tr valign=top><td><a href="#inWorld" class="attribute_list" >inWorld</a></td><td>&nbsp; 只读 bool
</td></tr>

<tr valign=top><td><a href="#className" class="attribute_list" >className</a></td><td>&nbsp; 只读 string
</td></tr>

</table>

<hr>
<a name="detailed_description"></a><h2>详细描述</h2>
类<a href=../../keywords.html#entity>Entity</a>的实例代表着在client上的游戏对象。
<br><br>

<br><br>
一个<a href=../../keywords.html#entity>Entity</a>可以通过<a href=../../keywords.html#EntityCall>ENTITYCALL</a>访问在base和cell应用程序上的等价的实体。这需要
一组远程调用的函数（在实体的.def文件里指定）。

<hr>
<h2>成员函数文档</h2>

<a name="baseCall"></a><p class="function_definition">
<span class="function_definition">def baseCall( <i>self, methodName, methodArgs</i> ):</span>
</p>

<div class="function_description">
<b>功能说明：</b><br><br>
调用该实体的base部分的方法。<br>
注意：实体在服务端必须有base部分，在客户端只有客户端控制的玩家实体才可以访问该方法。
<br><br>

例子：<br>
js插件: entity.baseCall("reqCreateAvatar", roleType, name);<br>
c#插件: entity.baseCall("reqCreateAvatar", new object[]{roleType, name});
</div>

<p>
<span class="function_parameter">参数：</span>
<table border=0 cellpadding=0 cellspacing=3 style="margin-left: 20px;">

<tr valign=top><td><span class="function_parameter_name"><i>methodName</i></span></td><td><span class="function_parameter_description">
string，方法名称。
</span></td></tr>

<tr valign=top><td><span class="function_parameter_name"><i>methodArgs</i></span></td><td><span class="function_parameter_description">
objects，方法参数列表。
</span></td></tr>

</table>
</p>

<p>
<span class="function_return">返回：</span>
<table border=0 cellpadding=0 cellspacing=3 style="margin-left: 20px;">
<tr><td>
由于是远程调用，不可能阻塞等待返回，因此无返回值。
</td></tr>
</table>
</p>



<a name="cellCall"></a><p class="function_definition">
<span class="function_definition">def cellCall( <i>self, methodName, methodArgs</i> ):</span>
</p>

<div class="function_description">
<b>功能说明：</b><br><br>
调用该实体的cell部分的方法。<br>
注意：实体在服务端必须有cell部分，在客户端只有客户端控制的玩家实体才可以访问该方法。
<br><br>

例子：<br>
js插件: entity.cellCall("xxx", roleType, name);<br>
c#插件: entity.cellCall("xxx", new object[]{roleType, name});
</div>

<p>
<span class="function_parameter">参数：</span>
<table border=0 cellpadding=0 cellspacing=3 style="margin-left: 20px;">

<tr valign=top><td><span class="function_parameter_name"><i>methodName</i></span></td><td><span class="function_parameter_description">
string，方法名称。
</span></td></tr>

<tr valign=top><td><span class="function_parameter_name"><i>methodArgs</i></span></td><td><span class="function_parameter_description">
objects，方法参数列表。
</span></td></tr>

</table>
</p>

<p>
<span class="function_return">返回：</span>
<table border=0 cellpadding=0 cellspacing=3 style="margin-left: 20px;">
<tr><td>
由于是远程调用，不可能阻塞等待返回，因此无返回值。
</td></tr>
</table>
</p>

<a name="isPlayer"></a><p class="function_definition">
<span class="function_definition">def isPlayer( <i>self</i> ):</span>
</p>

<div class="function_description">
<b>功能说明：</b><br><br>
这个函数返回这个<a href=../../keywords.html#entity>Entity</a>是否为当前客户端所控制的Player。
</div>

<p>
<span class="function_return">返回：</span>
<table border=0 cellpadding=0 cellspacing=3 style="margin-left: 20px;">
<tr><td>bool， 如果是当前客户端所控制的Player返回True，否则返回False。
</td></tr>
</table>
</p>




<hr>
<h2>回调函数文档</h2>


<a name="onDestroy"></a><p class="function_definition">
<span class="function_definition">def onDestroy( <i>self</i> ):</span>
</p>

<div class="function_description">实体被销毁时调用。
</div>


<a name="onEnterWorld"></a><p class="function_definition">
<span class="function_definition">def onEnterWorld( <i>self</i> ):</span>
</p>

<div class="function_description">如果实体非客户端控制实体，则表明实体进入了服务端上客户端控制的实体的View范围，此时客户端可以看见这个实体了。<br>
如果实体是客户端控制的实体则表明该实体已经在服务端创建了cell并进入了space。
</div>



<a name="onLeaveWorld"></a><p class="function_definition">
<span class="function_definition">def onLeaveWorld( <i>self</i> ):</span>
</p>

<div class="function_description">如果实体非客户端控制实体，则表明实体离开了服务端上客户端控制的实体的View范围，此时客户端看不见这个实体了。<br>
如果实体是客户端控制的实体则表明该实体已经在服务端销毁了cell并离开了space。
</div>



<a name="onEnterSpace"></a><p class="function_definition">
<span class="function_definition">def onEnterSpace( <i>self</i> ):</span>
</p>

<div class="function_description">客户端控制的实体进入了一个新的space。
</div>



<a name="onLeaveSpace"></a><p class="function_definition">
<span class="function_definition">def onLeaveSpace( <i>self</i> ):</span>
</p>

<div class="function_description">客户端控制的实体离开了当前的space。
</div>



<hr>
<h2>属性文档</h2>

<a name="className"></a><p class="attribute_definition">
<span class="attribute_definition">className</span>
</p>

<div class="attribute_description">实体的类名。 
</div>

<p>
<span class="attribute_type">类型：</span>
<table border=0 cellpadding=0 cellspacing=3 style="margin-left: 20px;">
<tr><td>只读，string
</td></tr>
</table>
</p>



<a name="position"></a><p class="attribute_definition">
<span class="attribute_definition">position</span>
</p>

<div class="attribute_description">这个实体在世界空间中的坐标(x, y, z)，数据由服务端同步到客户端。

<br><br>

</div>

<p>
<span class="attribute_type">类型：</span>
<table border=0 cellpadding=0 cellspacing=3 style="margin-left: 20px;">
<tr><td><a href=../../keywords.html#vector3>Vector3</a>
</td></tr>
</table>
</p>


<a name="direction"></a><p class="attribute_definition">
<span class="attribute_definition">direction</span>
</p>

<div class="attribute_description">这个属性描述的是<a href=../../keywords.html#entity>Entity</a>在世界空间中的朝向，数据由服务端同步到客户端。
</div>

<p>
<span class="attribute_type">类型：</span>
<table border=0 cellpadding=0 cellspacing=3 style="margin-left: 20px;">
<tr><td>Vector3, 其中包含(roll, pitch, yaw)，以弧度表示。
</td></tr>
</table>
</p>


<a name="isOnGround"></a><p class="attribute_definition">
<span class="attribute_definition">isOnGround</span>
</p>

<div class="attribute_description">如果这个属性的值为True，<a href=../../keywords.html#entity>Entity</a>在地面上，否则为False。<br>
如果是客户端控制的实体该属性将会在改变时同步到服务端，其他实体则由服务端同步到客户端，客户端可以判断这个值来强制贴地避免精度带来的影响。
</div>

<p>
<span class="attribute_type">类型：</span>
<table border=0 cellpadding=0 cellspacing=3 style="margin-left: 20px;">
<tr><td>可读写， bool
</td></tr>
</table>
</p>



<hr>
<p class="copyrightFooter">版权归KBEngine所有。</p>
</body>
</html>
